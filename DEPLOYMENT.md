# Deployment Guide for East Coast Credit Union Banking App

## Render Deployment

### Environment Variables Required

Set these environment variables in your Render service:

1. **DATABASE_URL** - PostgreSQL connection string (automatically provided by Render PostgreSQL)
2. **SESSION_SECRET** - A secure random string for session encryption (auto-generated by Render)
3. **NODE_ENV** - Set to "production"
4. **SMTP_USER** - Gmail username (exesoftware010@gmail.com)
5. **SMTP_PASS** - Gmail app password (lmgz etkx gude udar)

### Deployment Steps

1. **Create PostgreSQL Database on Render**
   - Go to Render Dashboard
   - Create new PostgreSQL database
   - Note the connection details

2. **Create Web Service on Render**
   - Connect your GitHub repository
   - Choose "Web Service"
   - Set build command: `npm install && npm run build`
   - Set start command: `npm start`
   - Add environment variables listed above

3. **Post-Deployment Setup**
   - Run database migrations: `npm run db:push`
   - Seed initial data: `npx tsx server/seed.ts`

### Common Issues & Solutions

#### Session/Login Issues
- Ensure `SESSION_SECRET` is set in production
- Verify database connection is working
- Check that HTTPS is enabled on Render

#### Email/OTP Issues
- Verify SMTP credentials are correct
- Check Gmail app password is valid
- Ensure less secure app access is enabled for Gmail account

#### Database Issues
- Run `npm run db:push` to sync schema
- Check PostgreSQL connection string format
- Verify database tables are created

### Testing Production Deployment

Test with these credentials:
- **User ID**: 1972000, **Password**: Mate@200 (Mate Smith)
- **User ID**: 197200, **Password**: Mate@200 (Martha Hodge)

Expected account balances:
- User 1972000: Multiple accounts with balances over $1M
- User 197200: Chequing $1,001,832.45, Savings $1,159,876.32

### Troubleshooting Commands

```bash
# Check database connection
psql $DATABASE_URL -c "SELECT version();"

# Reset database schema
npm run db:push

# Reseed database
npx tsx server/seed.ts

# Check application logs
heroku logs --tail  # or Render logs
```